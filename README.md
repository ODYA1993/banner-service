# Баннер-сервис

Этот проект представляет собой баннер-сервис, который позволяет управлять баннерами и пользователями.

## Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/yourusername/banner-service.git
```

1. Перейдите в директорию проекта: cd banner-service

## Запуск:

1. - Создайте Docker-образ проекта используя make:
: make docker build


2. - Запустите контейнеры:
: make up

## Использование

После запуска контейнеров вы можете использовать баннер-сервис, отправляя HTTP-запросы к нему.
Рекомендую использовать приложение Postman

1. Для Регистрации пользователя отправьте POST-запрос ***localhost:8080/register*** с JSON-телом:
```bash
{
"name": "admin",
"email": "admin@admin.ru",
"password": "qwerty123",
"is_admin": true
}
```

2. Для Авторизации пользователя отправьте POST-запрос ***localhost:8080/login*** с JSON-телом:
```bash
{
"email": "admin@admin.ru",
"password": "qwerty123"
}
```

3. Получение баннера для пользователя, отправьте GET-запрос ***localhost:8080/user_banner?tag_id=1&feature_id=1&use_last_revision=true***.

4. Для создания нового баннера отправьте POST-запрос ***localhost:8080/banner*** с JSON-телом:
```bash
{
"title": "createTitle",
"text": "createText",
"url": "createURL",
"is_active": true,
"feature_id": {
"id": 3
},
"tags": [{"id": 3}]
}
```

5. Для Получения всех баннеров c фильтрацией по фиче и/или тегу отправьте GET-запрос ***localhost:8080/banner/3/3/3/0***

6. Для обновления информации о баннере отправьте PUT-запрос к ***localhost:8080/banner/1*** с JSON-телом.
```bash
{
"title": "title",
"text": "text",
"url": "url",
"is_active": true,
"feature_id": {
"id": 2
},
"tags": [{"id": 2}]
}
```
7. Удаление баннера по идентификатору ***localhost:8080/delete-banner/1***.

## Тестирование

В проекте предусмотрены интеграционные тесты, которые проверяют работу баннер-сервиса. Для запуска теста выполните команду:

- make test

Эта команда запустит тест, который находится в директории tests/integration.

## Конфигурация
Баннер-сервис использует конфигурационный файл config.yaml для настройки подключения к базе данных. Вы можете изменить параметры подключения, отредактировав этот файл.

## Автор
Дмитрий Одинцов - ODYA1993